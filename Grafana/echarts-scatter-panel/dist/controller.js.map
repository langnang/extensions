{"version":3,"sources":["controller.js"],"names":["System","register","_export","_context","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","MetricsPanelCtrl","_","kbn","$","echarts","DataProcessor","DataFormatter","_createClass","Controller","setters","_appPluginsSdk","_lodash","_appCoreUtilsKbn","_jquery","_libsEchartsMin","_libsDark","_styleCss","_data_processor","_data_formatter","execute","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_MetricsPanelCtrl","$scope","$injector","this","console","log","_this2","getPrototypeOf","panelDefaults","IS_UCD","METHODS","ETYPE","url","method","upInterval","format","subTabKey","dataTabIndex","type","typeList","chart","chartList","reserveOption","xAxis","show","option","dataFormat","ww/dd","mm/dd","yyyy/mm","yAxis","series","seriesData","scatterDefault","data","refId","color","grid","legend","tooltip","trigger","axisPointer","textStyle","fontSize","lineHeight","backgroundColor","padding","splitLine","name","nameLocation","defaults","panel","dataFormatter","processor","events","on","onDataReceived","bind","onDataError","onInitEditMode","render","refreshData","dataList","_this3","forEach","scatter","rows","val","k","push","undefined","label","markLine","itemStyle","normal","lineStyle","symbol","rebuildTooltips","refreshed","x","y","formatter","params","mat","seriesName","group","echartsOption","toLower","isUndefined","time","unzip","datapoints","isRebuildOption","obj","callback","refresh","pop","err","addEditorTab","_this4","_this","xmlhttp","window","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","customizeData","JSON","parse","responseText","open","send","$timeout","scope","elem","attrs","ctrl","setHeight","height","row","isString","parseInt","replace","$panelContainer","style","myChart","resize","clear","setOption","find","init","setTimeout","renderingCompleted","templateUrl"],"mappings":"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","file":"controller.js"}
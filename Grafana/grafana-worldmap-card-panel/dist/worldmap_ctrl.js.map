{"version":3,"sources":["worldmap_ctrl.js"],"names":["System","register","_export","_context","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","MetricsPanelCtrl","TimeSeries","kbn","cardwidth","_","mapRenderer","DataFormatter","_createClass","panelDefaults","cityNameList","mapCenters","WorldmapCtrl","setters","_appPluginsSdk","_appCoreTime_series","_appCoreUtilsKbn","_cardwidth","_lodash","_map_renderer","_data_formatter","_cssWorldmapCardPanelCss","execute","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","maxDataPoints","mapCenter","mapCenterLatitude","mapCenterLongitude","initialZoom","valueName","cityName","linkData","detailName","httpUrl","circleDefaultMinSize","circleMinSize","circleCurrentSize","circleDefaultMaxSize","circleMaxSize","zoomDelta","lastZoom","isZoomed","locationData","thresholds","colors","unitSingle","unitPlural","showLegend","esMetric","decimals","hideEmpty","hideZero","stickyLabels","ocean","boundaryStroke","boundaryFill","countryBoundary","oceanEnable","boundaryEnable","locationList","dataList","dataMax","dataMin","adjFontSize","FontSize","cards","title","location","circleColor","thresholdsOption","thresholdsValue","thresholdsData","thresholdsDataIndex","thresholdstmp","thresholdsLabel","thresholdsIndex","link","sideDisplay","sideContent","data","circleValue","cardItems","name","dataIndex","cardData","type","bgColor","color","dataTag","postfix","Array","(0°, 0°)","North America","Europe","West Asia","SE Asia","Last GeoHash","_MetricsPanelCtrl","$scope","$injector","contextSrv","this","_this","getPrototypeOf","cardTypes","text","fontCalc","cardWidthList","defaultValues","cardWidthChange","setMapProvider","defaults","panel","dataFormatter","events","on","onInitEditMode","bind","onDataReceived","onPanelTeardown","onDataSnapshotLoad","loadLocationDataFromFile","tileServer","user","lightTheme","setMapSaturationClass","arr","mapToTextValue","saturationClass","reload","_this2","map","snapshotLocationData","locations","jsonpUrl","jsonpCallback","window","$","ajax","url","contentType","dataType","success","res","render","jsonUrl","getJSON","then","reloadLocations","refresh","remove","addEditorTab","linkDataString","JSON","stringify","parse","dashboard","snapshot","setGeohashValues","tableData","tableHandler","setTableValues","series","setJsonValues","setJsonScada","setJsonRMM","seriesHandler","setValues","centerOnLastGeoHash","push","locationName","last","locationLatitude","locationLongitude","setNewMapCenter","snapshotData","seriesData","datapoints","alias","flotpairs","getFlotPairs","nullPointMode","mapCenterMoved","setZoom","removeLegend","clearCircles","newCardData","thresholdsDataTag","$index","splice","newCardItem","pindex","index","newLinkData","result","d","isObject","scope","elem","attrs","ctrl","templateUrl"],"mappings":"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","file":"worldmap_ctrl.js"}
{"version":3,"sources":["data_formatter.js"],"names":["System","register","_export","_context","_classCallCheck","instance","Constructor","TypeError","_","decodeGeoHash","py2hz","_createClass","DataFormatter","setters","_lodash","_geohash","_china_city_mapping","execute","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","ctrl","kbn","this","value","data","_this","series","highestValue","lowestValue","Number","MAX_VALUE","forEach","serie","lastPoint","last","datapoints","lastValue","isArray","location","find","locations","loc","toUpperCase","alias","isString","push","valueFormatted","valueRounded","dataValue","locationName","name","locationLatitude","latitude","locationLongitude","longitude","stats","panel","valueName","roundValue","parseInt","decimals","valueRange","dataList","_this2","esGeoPoint","esMetric","console","info","datapoint","encodedGeohash","esLocationName","tableData","_this3","geohash","decodedGeohash","tableLabel","metric","sum","total","item","ret","chain","groupBy","map","group","reduce","type","columnNames","columns","column","columnIndex","text","rows","row"],"mappings":"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","file":"data_formatter.js"}